# 雷神加速器暂停工具（Leigod Pause Tool）

一个用于自动暂停雷神加速器的工具。当你不再运行指定的程序（例如游戏）且倒计时归零时，工具会调用雷神官方接口，自动把账号状态切换为暂停，避免无谓计时消耗。

本项目基于 .NET 8 与 Avalonia 构建，在 Windows x64 环境下使用，目前包体积较大。

## 快速开始
1. 运行程序。
2. 点击“登录/获取令牌”（应用内按钮），通过内置登录窗口登录雷神账号，获取并保存账号令牌。
3. 在“监控进程”输入框中输入进程名（如：`deadlock`），点击“添加”。
   - 注意：进程名不需要包含 `.exe`，且需要与任务管理器中进程名一致。
   - 打开任务管理器-详情信息，找到你的游戏/程序，当中便有“进程名称”（去掉 `.exe`）。
   - <img width="1189" height="590" alt="图片" src="https://github.com/user-attachments/assets/365d2163-d69b-46cf-8cac-aa3e7c7aaed7" />

4. 设置“检测间隔（秒）”，例如 60。
5. 点击“开始”启动监控，界面会显示倒计时。
6. 当监控列表中的进程全部未运行且倒计时到 0 时，将自动调用雷神接口把账号置为“暂停”，并弹出通知。

## 功能特性
- 登录校验与令牌保存：通过内置登录窗口获取账号令牌（Account Token），自动校验有效性并本地保存。
- 监控进程名单：可添加/删除要“监控”的进程名（不带 .exe）。
- 周期性检测与倒计时：按设定的间隔（秒）进行倒计时与检测，并在界面显示剩余时间。
- 自动暂停：当监控名单中的进程均不在运行，且倒计时归零时，自动调用雷神接口进行暂停。
- 通知提示：登录成功/失败、暂停成功等会通过通知弹窗提示。


## 工作原理（简述）
- 工具每秒刷新倒计时，倒计时到 0 时触发一次检测：
  - 如果“监控的进程”列表中有任意一个进程正在运行（只统计有主窗口标题的进程），则继续等待，不会触发暂停。
  - 如果没有监控中的进程在运行，则停止计时并调用雷神 API 进行暂停。
- 登录状态会通过调用雷神“用户信息”接口进行校验；暂停时调用“暂停”接口。接口域名为 `https://webapi.leigod.com`。
- 当接口返回码为 0 或 400803（已是暂停状态）视为成功，其它情况视为登录失效并提示重新登录。




## 配置文件
- 程序会把以下配置项保存为 JSON：
  - AccountToken：登录获取的账号令牌对象
  - MonitoredProcesses：监控的进程名列表
  - IntervalTime：检测间隔（秒），默认 60
- 配置文件路径：运行时会在程序运行目录下创建 `LeigodPauseTool/config.json` 文件夹与文件。


## 常见问题（FAQ）
- Q：进程名应该怎么填？
  - A：打开任务管理器-详情信息，找到你的游戏/程序，记下“进程名称”（不带 `.exe`），如 `wow`、`overwatch` 等。
- Q：为什么已添加进程但依然会暂停？
  - A：工具只统计“有主窗口标题”的进程。如果被监控的进程没有主窗口或以管理员权限/其他方式运行导致不可见，可能不会被正确识别。建议以普通方式启动，或确认进程名称是否准确。
- Q：网络不稳定会怎样？
  - A：接口调用默认超时 5 秒。如请求失败或返回非 0/400803，工具会判定登录失效并提示重新登录。
- Q：是否会自动“恢复加速”？
  - A：当前工具仅在满足条件时自动“暂停”。恢复需在雷神客户端自行操作。


## 开发与构建
- 运行环境：
  - .NET 8 SDK
  - Windows 10/11（x64）
- 本地运行：
  - 在仓库根目录执行：
    - `dotnet run --project LeigodPauseTool`
- 发布（示例）：
  - `dotnet publish LeigodPauseTool -c Release -r win-x64 --self-contained false`


## 安全与隐私
- 账号令牌仅用于调用雷神官方接口，配置文件会在本地保存令牌信息。请不要随意分享你的配置文件，避免账号风险。


## 免责声明
- 本项目为第三方开源工具，与雷神官方无关，仅用于个人学习与效率提升目的。请遵守相关服务协议，自行承担使用风险。


## 贡献
欢迎提交 Issue 或 PR 改进功能与体验。
